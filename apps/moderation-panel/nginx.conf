server {
  listen 80;

  # The root directory where the React build assets are located.
  root /usr/share/nginx/html;

  # The default file to serve.
  index index.html index.htm;

  # This is the crucial part for single-page applications (SPAs).
  # It ensures that any request that doesn't match a file on disk
  # (like /submission/123) will fall back to serving /index.html.
  # This allows the React Router to handle the routing on the client side.
  location / {
    try_files $uri /index.html;
  }

  # You can add other configurations here, like caching headers for static assets.
  location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public";
  }
}
